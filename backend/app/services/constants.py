# 十干・十二支・干支サイクル
TENKAN = ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"]
JUNISHI = ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"]

# 日干×時支 → 時干のテーブル（簡略版、よく使われる対応）
# 実務書に載っている「日干別の時干一覧」を元に自作してもOK
HOUR_STEM_TABLE = {
    "甲": ["甲", "丙", "戊", "庚", "壬", "甲", "丙", "戊", "庚", "壬", "甲", "丙"],
    "乙": ["乙", "丁", "己", "辛", "癸", "乙", "丁", "己", "辛", "癸", "乙", "丁"],
    "丙": ["丙", "戊", "庚", "壬", "甲", "丙", "戊", "庚", "壬", "甲", "丙", "戊"],
    "丁": ["丁", "己", "辛", "癸", "乙", "丁", "己", "辛", "癸", "乙", "丁", "己"],
    "戊": ["戊", "庚", "壬", "甲", "丙", "戊", "庚", "壬", "甲", "丙", "戊", "庚"],
    "己": ["己", "辛", "癸", "乙", "丁", "己", "辛", "癸", "乙", "丁", "己", "辛"],
    "庚": ["庚", "壬", "甲", "丙", "戊", "庚", "壬", "甲", "丙", "戊", "庚", "壬"],
    "辛": ["辛", "癸", "乙", "丁", "己", "辛", "癸", "乙", "丁", "己", "辛", "癸"],
    "壬": ["壬", "甲", "丙", "戊", "庚", "壬", "甲", "丙", "戊", "庚", "壬", "甲"],
    "癸": ["癸", "乙", "丁", "己", "辛", "癸", "乙", "丁", "己", "辛", "癸", "乙"],
}

# 十干 → 五行マッピング
# 日柱の十干から「本人の五行」を取得します。
STEM_TO_ELEMENT = {
    "甲": "木",
    "乙": "木",
    "丙": "火",
    "丁": "火",
    "戊": "土",
    "己": "土",
    "庚": "金",
    "辛": "金",
    "壬": "水",
    "癸": "水",
}


# 十二支 → 五行（蔵干ベース）マッピング
# 十二支は単独の五行ではなく、**蔵干（内部に含む干）**を使うのが一般的です。
# 簡易版として「主蔵干のみ」を採用します。
BRANCH_TO_MAIN_STEM = {
    "子": "癸",  # 水
    "丑": "己",  # 土
    "寅": "甲",  # 木
    "卯": "乙",  # 木
    "辰": "戊",  # 土
    "巳": "丙",  # 火
    "午": "丁",  # 火
    "未": "己",  # 土
    "申": "庚",  # 金
    "酉": "辛",  # 金
    "戌": "戊",  # 土
    "亥": "壬",  # 水
}

# 干支の性質辞書
# TODO:ここは簡易版。必要なら詳細版も作れます
STEM_TRAITS = {
    "甲": "まっすぐで成長力がある。リーダー気質。",
    "乙": "柔らかく調和的。人間関係に強い。",
    "丙": "明るく情熱的。表現力が豊か。",
    "丁": "繊細で優しい。内面に情熱を秘める。",
    "戊": "安定感があり、責任感が強い。",
    "己": "慎重で堅実。調整力に優れる。",
    "庚": "意志が強く、改革精神がある。",
    "辛": "美意識が高く、繊細でこだわりが強い。",
    "壬": "柔軟で知的。流動的な発想。",
    "癸": "優しく繊細。直感と感受性が強い。",
}

# 十二支の性質辞書
BRANCH_TRAITS = {
    "子": "知性と柔軟性。コミュニケーション力が高い。",
    "丑": "忍耐強く、安定志向。努力家。",
    "寅": "行動力と勇気。リーダーシップ。",
    "卯": "社交性と調和。人間関係に恵まれる。",
    "辰": "理想が高く、創造力がある。",
    "巳": "情熱と探究心。精神性が強い。",
    "午": "明るく華やか。人気運がある。",
    "未": "優しく穏やか。調和と奉仕の精神。",
    "申": "知性と戦略性。器用で多才。",
    "酉": "美意識とこだわり。完璧主義。",
    "戌": "誠実で義理堅い。責任感が強い。",
    "亥": "純粋で直感的。行動力と勢い。",
}

# 四柱ごとの解釈テンプレート（ロジック）
PILLAR_MEANING = {
    "年柱": "家系・幼少期・ルーツに影響。家族の価値観や幼少期の性質を示す。",
    "月柱": "社会・青年期・仕事運に影響。20〜40代の運勢や社会的立場を示す。",
    "日柱": "本人の本質・性格・結婚運を示す。人生の中心となる柱。",
    "時柱": "晩年運・子供運・才能を示す。後半生のテーマが表れる。",
}

# 五行の意味辞書（性格・行動傾向）
WUXING_TRAITS = {
    "木": {
        "性格": "成長・向上心・人間関係・優しさ・行動力",
        "強い": "人との縁が強く、成長意欲が高い。新しいことに挑戦する力がある。",
        "弱い": "優柔不断になりやすく、決断力が不足しがち。人間関係で疲れやすい。",
    },
    "火": {
        "性格": "情熱・表現力・直感・明るさ",
        "強い": "情熱的で明るく、周囲を照らす存在。直感が鋭く、表現力が豊か。",
        "弱い": "気持ちが内にこもりやすく、自己表現が苦手。情熱が続きにくい。",
    },
    "土": {
        "性格": "安定・調和・現実感・継続力",
        "強い": "安定感があり、周囲から信頼される。継続力が強く、堅実に物事を進める。",
        "弱い": "気持ちが揺れやすく、生活リズムが乱れやすい。現実感が薄くなることも。",
    },
    "金": {
        "性格": "意志・決断・美意識・正義感",
        "強い": "意志が強く、こだわりがある。美意識が高く、筋を通すタイプ。",
        "弱い": "自信が揺らぎやすく、決断に迷いが出る。こだわりが弱くなる。",
    },
    "水": {
        "性格": "知性・柔軟性・コミュニケーション・流動性",
        "強い": "知性が高く、柔軟で適応力がある。情報収集や学習が得意。",
        "弱い": "考えすぎたり、逆に思考が浅くなったりする。柔軟性が不足しがち。",
    },
}


# 相生（助ける関係）
# 木→火→土→金→水→木
XIANGSHENG = {"木": "火", "火": "土", "土": "金", "金": "水", "水": "木"}

# 相剋（弱らせる関係）
# 木→土→水→火→金→木
XIANGKE = {"木": "土", "土": "水", "水": "火", "火": "金", "金": "木"}


# Map common Japanese keys to English keys for API responses
KEY_MAP = {
    "四柱": "four_pillars",
    "年柱": "year",
    "月柱": "month",
    "日柱": "day",
    "時柱": "hour",
    "総合テーマ": "overall_theme",
    "五行バランス": "gogyo_balance",
    "日主": "day_master",
    "相性": "compatibility",
    "課題": "challenges",
    "弱い五行": "weak_elements",
    "強い五行": "strong_elements",
    "性格傾向": "personality_tendencies",
    "性格": "personality",
    "人生の流れ": "life_flow",
    "柱": "pillar",
    "干支": "ganzhi",
    "意味": "meaning",
    "まとめ": "summary",
    "十干の性質": "heavenly_stem_traits",
    "十二支の性質": "earthly_branch_traits",
    "助ける五行": "helping_elements",
    "弱らせる五行": "harming_elements",
}


# 桃源紀行風の吉凶辞書の作成
TOUGEN_FORTUNE = {
    "大吉": {
        "短文": "桃源の風があなたを包み、道は光に満ちて開けていく。",
        "長文": "桃源の山々に朝日が差し込み、柔らかな光があなたの歩む道を照らしています。"
        "努力は実り、出会いは恵みとなり、運命はあなたに味方するでしょう。"
        "迷いが晴れ、心のままに進むほどに景色は美しく広がります。",
    },
    "吉": {
        "短文": "穏やかな追い風が吹き、歩みは自然と前へ進む。",
        "長文": "桃源の小径を歩けば、草木がそよぎ、鳥たちが優しく歌います。"
        "大きな飛躍ではないものの、確かな前進が感じられる時期。"
        "心を整え、自然の流れに身を任せれば、道はゆるやかに開けていきます。",
    },
    "半吉": {
        "短文": "霧の向こうに光が見える。慎重に進めば道は整う。",
        "長文": "桃源の谷間に薄い霧が立ちこめていますが、その奥には確かな光が宿っています。" "焦らず、足元を確かめながら進むことで、霧はやがて晴れ、道が姿を現すでしょう。",
    },
    "末吉": {
        "短文": "小さな芽が土を押し上げるように、ゆっくりと運が育つ。",
        "長文": "桃源の大地に芽吹いた若葉のように、運勢は静かに育ち始めています。" "急がず、今は土を耕すように基盤を整える時。" "やがて芽は伸び、花を咲かせるでしょう。",
    },
    "凶": {
        "短文": "風向きが乱れ、足元に注意が必要な時期。",
        "長文": "桃源の空に雲がかかり、風が少し荒れています。"
        "無理に進もうとすると枝に引っかかり、思わぬつまずきが生じることも。"
        "しかし、立ち止まり、周囲を見渡せば、避けるべき道と進むべき道が見えてきます。",
    },
    "大凶": {
        "短文": "嵐の前触れ。今は動かず、心を守る時。",
        "長文": "桃源の山々に黒雲が集まり、激しい雨の気配が漂っています。"
        "この時期は無理に進まず、洞窟で雨宿りする旅人のように、心と体を守ることが最優先。"
        "嵐は必ず過ぎ去り、その後には澄んだ空と新しい景色が広がるでしょう。",
    },
}


# 名前の画数による吉凶辞典
KAKUSUU_FORTUNE = {
    1: "大吉",
    2: "凶",
    3: "吉",
    4: "凶",
    5: "吉",
    6: "吉",
    7: "半吉",
    8: "半吉",
    9: "大凶",
    10: "大凶",
    11: "半吉",
    12: "凶",
    13: "大吉",
    14: "凶",
    15: "半吉",
    16: "大吉",
    17: "半吉",
    18: "半吉",
    19: "大凶",
    20: "大凶",
    21: "吉",
    22: "凶",
    23: "大吉",
    24: "吉",
    25: "半吉",
    26: "末吉",
    27: "凶",
    28: "大凶",
    29: "吉",
    30: "末吉",
    31: "吉",
    32: "大吉",
    33: "吉",
    34: "大凶",
    35: "半吉",
    36: "凶",
    37: "吉",
    38: "半吉",
    39: "吉",
    40: "末吉",
    41: "吉",
    42: "凶",
    43: "凶",
    44: "大凶",
    45: "吉",
    46: "末吉",
    47: "吉",
    48: "半吉",
    49: "末吉",
    50: "凶",
    51: "凶",
    52: "吉",
    53: "凶",
    54: "大凶",
    55: "凶",
    56: "凶",
    57: "末吉",
    58: "半吉",
    59: "凶",
    60: "大凶",
    61: "半吉",
    62: "大凶",
    63: "大吉",
    64: "大凶",
    65: "大吉",
    66: "大凶",
    67: "吉",
    68: "吉",
    69: "大凶",
    70: "大凶",
    71: "末吉",
    72: "凶",
    73: "末吉",
    74: "凶",
    75: "末吉",
    76: "大凶",
    77: "末吉",
    78: "末吉",
    79: "大凶",
    80: "大凶",
    81: "吉",
}


# 名前の画数の意味辞典（未使用）
KAKUSUU_MEANING = {
    1: "スタート・独立",
    2: "協調・バランス・孤独・迷い",
    3: "行動力・成功",
    4: "不安定",
    5: "安定・信頼",
    6: "人脈・援助",
    7: "意志・努力",
    8: "堅実・継続",
    9: "芸術・感性（吉凶混合）",
    10: "空虚・迷い",
    11: "誠実・信頼",
    12: "病弱・不安",
    13: "人気・明るさ",
    14: "波乱・変化",
    15: "家庭運・調和",
    16: "発展・成功",
    17: "努力・実力",
    18: "強運・行動力",
    19: "孤独・挫折",
    20: "空回り・繊細",
    21: "指導力・成功",
    22: "短気・不安定",
    23: "財運・発展",
    24: "金運・家庭運",
    26: "波乱・起伏",
    28: "孤独・苦労",
    31: "温厚・人望",
    32: "幸運・晩年運",
    33: "大成功・強運",
    34: "不安定",
    41: "大吉・安定・信頼",
    44: "トラブル",
    45: "発展・継続",
    47: "成功・名誉",
    48: "吉凶混合（強すぎる運",
}
